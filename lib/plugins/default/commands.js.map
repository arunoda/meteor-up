{"version":3,"sources":["../../../src/plugins/default/commands.js"],"names":["commandHandlers","init","description","handler","deploy","builder","yargs","option","boolean","logs","strict","number","alias","reconfig","restart","setup","start","stop","ssh","name","validate","bool"],"mappings":";;;;;;;AAAA;;IAAYA,e;;;;AAEL,IAAIC,sBAAO;AAChBC,eAAa,iCADG;AAEhBC,WAASH,gBAAgBC;AAFT,CAAX;;AAKA,IAAIG,0BAAS;AAClBF,eAAa,sBADK;AAElBG,SAFkB,mBAEVC,KAFU,EAEH;AACb,WAAOA,MAAMC,MAAN,CAAa,cAAb,EAA6B;AAClCL,mBAAa,gCADqB;AAElCM,eAAS;AAFyB,KAA7B,CAAP;AAID,GAPiB;;AAQlBL,WAASH,gBAAgBI;AARP,CAAb;;AAWA,IAAIK,sBAAO;AAChBP,eAAa,qDADG;AAEhBG,SAFgB,mBAERC,KAFQ,EAED;AACb,WAAOA,MACJI,MADI,CACG,KADH,EAEJH,MAFI,CAEG,MAFH,EAEW;AACdL,mBAAa,kDADC;AAEdS,cAAQ;AAFM,KAFX,EAMJJ,MANI,CAMG,QANH,EAMa;AAChBL,mBAAa,mBADG;AAEhBU,aAAO,GAFS;AAGhBJ,eAAS;AAHO,KANb,CAAP;AAWD,GAde;;AAehBL,WAASH,gBAAgBS;AAfT,CAAX;;AAkBA,IAAII,8BAAW;AACpBX,eAAa,qDADO;AAEpBC,WAASH,gBAAgBa;AAFL,CAAf;;AAKA,IAAIC,4BAAU;AACnBZ,eAAa,aADM;AAEnBC,WAASH,gBAAgBc;AAFN,CAAd;;AAKA,IAAIC,wBAAQ;AACjBb,eAAa,kEADI;AAEjBC,WAASH,gBAAgBe;AAFR,CAAZ;;AAKA,IAAIC,wBAAQ;AACjBd,eAAa,WADI;AAEjBC,WAASH,gBAAgBgB;AAFR,CAAZ;;AAKA,IAAIC,sBAAO;AAChBf,eAAa,UADG;AAEhBC,WAASH,gBAAgBiB;AAFT,CAAX;;AAKA,IAAIC,oBAAM;AACfC,QAAM,cADS;AAEfjB,eAAa,iBAFE;AAGfC,WAASH,gBAAgBkB;AAHV,CAAV;;AAMA,IAAIE,8BAAW;AACpBlB,eAAa,iBADO;AAEpBG,SAFoB,mBAEZC,KAFY,EAEL;AACb,WAAOA,MAAMC,MAAN,CAAa,MAAb,EAAqB;AAC1BL,mBAAa,6CADa;AAE1BmB,YAAM;AAFoB,KAArB,CAAP;AAID,GAPmB;;AAQpBlB,WAASH,gBAAgBoB;AARL,CAAf","file":"commands.js","sourcesContent":["import * as commandHandlers from './command-handlers';\r\n\r\nexport let init = {\r\n  description: 'Setup files for new mup project',\r\n  handler: commandHandlers.init\r\n};\r\n\r\nexport let deploy = {\r\n  description: 'Deploy app to server',\r\n  builder(yargs) {\r\n    return yargs.option('cached-build', {\r\n      description: 'Use build from previous deploy',\r\n      boolean: true\r\n    });\r\n  },\r\n  handler: commandHandlers.deploy\r\n};\r\n\r\nexport let logs = {\r\n  description: \"Show app\\'s logs. Supports options from docker logs\",\r\n  builder(yargs) {\r\n    return yargs\r\n      .strict(false)\r\n      .option('tail', {\r\n        description: 'Number of lines to show from the end of the logs',\r\n        number: true\r\n      })\r\n      .option('follow', {\r\n        description: 'Follow log output',\r\n        alias: 'f',\r\n        boolean: true\r\n      });\r\n  },\r\n  handler: commandHandlers.logs\r\n};\r\n\r\nexport let reconfig = {\r\n  description: 'Updates server env and start script to match config',\r\n  handler: commandHandlers.reconfig\r\n};\r\n\r\nexport let restart = {\r\n  description: 'Restart app',\r\n  handler: commandHandlers.restart\r\n};\r\n\r\nexport let setup = {\r\n  description: 'Install dependencies, custom certificates, and MongoDB on server',\r\n  handler: commandHandlers.setup\r\n};\r\n\r\nexport let start = {\r\n  description: 'Start app',\r\n  handler: commandHandlers.start\r\n};\r\n\r\nexport let stop = {\r\n  description: 'Stop app',\r\n  handler: commandHandlers.stop\r\n};\r\n\r\nexport let ssh = {\r\n  name: 'ssh [server]',\r\n  description: 'SSH into server',\r\n  handler: commandHandlers.ssh\r\n};\r\n\r\nexport let validate = {\r\n  description: 'validate config',\r\n  builder(yargs) {\r\n    return yargs.option('show', {\r\n      description: 'Show config after being modified by plugins',\r\n      bool: true\r\n    });\r\n  },\r\n  handler: commandHandlers.validate\r\n};\r\n"]}