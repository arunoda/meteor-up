{"version":3,"sources":["../../../src/validate/__tests__/index.unit.js"],"names":["describe","beforeEach","Object","keys","prop","it","handler","to","equal","config","servers","one","host","errors","e","console","log","instanceOf","Array"],"mappings":";;AAAA;;AACA;;;;;;AAEAA,SAAS,WAAT,EAAsB,YAAW;AAC/BC,aAAW,YAAM;AAAA;AAAA;AAAA;;AAAA;AACf,2BAAmBC,OAAOC,IAAP,0BAAnB,8HAAmD;AAAA,YAAxCC,IAAwC;;AACjD,eAAO,yBAAkBA,IAAlB,CAAP;AACD;AAHc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIhB,GAJD;;AAMAJ,WAAS,oBAAT,EAA+B,YAAW;AACxCK,OAAG,sBAAH,EAA2B,YAAW;AACpC,UAAMC,UAAU,SAAVA,OAAU,GAAM,CAAG,CAAzB;AACA,qCAAmB,SAAnB,EAA8BA,OAA9B;AACA,wBAAO,yBAAkB,SAAlB,CAAP,EAAqCC,EAArC,CAAwCC,KAAxC,CAA8CF,OAA9C;AACD,KAJD;AAKD,GAND;;AAQAN,WAAS,UAAT,EAAqB,YAAW;AAC9BK,OAAG,4BAAH,EAAiC,YAAW;AAC1C,UAAMI,SAAS;AACbC,iBAAS;AACPC,eAAK;AACHC,kBAAM;AADH;AADE;AADI,OAAf;;AAQA,UAAIC,eAAJ;;AAEA,UAAI;AACFA,iBAAS,qBAASJ,MAAT,CAAT;AACD,OAFD,CAEE,OAAOK,CAAP,EAAU;AACVC,gBAAQC,GAAR,CAAYF,CAAZ;AACD;AACD;AACA,wBAAOD,MAAP,EAAeI,UAAf,CAA0BC,KAA1B;AACD,KAlBD;AAmBD,GApBD;AAqBD,CApCD","file":"index.unit.js","sourcesContent":["import { expect } from 'chai';\r\nimport validate, { _pluginValidators, addPluginValidator } from '../index';\r\n\r\ndescribe('validator', function() {\r\n  beforeEach(() => {\r\n    for (const prop of Object.keys(_pluginValidators)) {\r\n      delete _pluginValidators[prop];\r\n    }\r\n  });\r\n\r\n  describe('addPluginValidator', function() {\r\n    it('should add validator', function() {\r\n      const handler = () => { };\r\n      addPluginValidator('metrics', handler);\r\n      expect(_pluginValidators['metrics']).to.equal(handler);\r\n    });\r\n  });\r\n\r\n  describe('validate', function() {\r\n    it('should validate the config', function() {\r\n      const config = {\r\n        servers: {\r\n          one: {\r\n            host: '0.0.0.0'\r\n          }\r\n        }\r\n      };\r\n\r\n      let errors;\r\n\r\n      try {\r\n        errors = validate(config);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n      // console.log(errors);\r\n      expect(errors).instanceOf(Array);\r\n    });\r\n  });\r\n});\r\n"]}